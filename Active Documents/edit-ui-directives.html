<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <title>Content Editable Disabled</title>
    <script class='remove'>
        var respecConfig = {
            specStatus: "ED",
            format: "markdown",
            editors: [
                {
                    name: "Johannes Wilm",
                    mailto: "johannes@fiduswriter.org",
                    company: "Invited Expert"
                },
                {
                    name: "Bo Cupp",
                    mailto: "pcupp@microsoft.com",
                    company: "Microsoft"
                },
                {
                    name: "Alex Keng",
                    mailto: "shihken@microsoft.com",
                    company: "Microsoft"
                },
                {
                    name: "Grisha Lyukshin",
                    mailto: "glyuk@microsoft.com",
                    company: "Microsoft"
                }
            ],
            github: "https://github.com/w3c/editing",
            shortName: "contenteditable-interface",
            wg: "Web Applications Working Group",
            wgURI: "https://www.w3.org/2019/webapps/",
            wgPatentURI: "https://www.w3.org/2004/01/pp-impl/114929/status",
            license: "w3c-software-doc"
        };
    </script>
    <script src='https://www.w3.org/Tools/respec/respec-w3c-common' class='remove'></script>
</head>

<body>
    <section id='abstract'>
        <h2>Abstract</h2>
        <p>
            This specification defines a mechanism to supp                  ress editing-related, user-agent-supplied user interface elements, using well-known names of editing commands, types of input not compatible with their editor.</p>
        <p>
            This specification purposefully does not prescribe the means by which a user agent will indicate to the user that some commands are not applicable in a given editable region.  The user agent is free to disable or remove the UI or do something else of their choosing.
        </p>
        <p class="issue">Rename this file to something that best reflects the purpose of this API.  Was contenteditable-disabled.  Before rethinking its purpose to focus solely on formatting commands I renamed edit UI directives.  Now thinking something that means unsupported formats.  It is only applicable to contenteditable.  Maybe it should go back to being contenteditable-disabled?</p>
        <p class="issue">fontSize / insertImage is missing from beforeInput.  Why?  Discuss?  File issue?</p>
        <p class="issue">Review the need for a JS API that manipulates these as a DOM token list.</p>
    </section>
    <section id='sotd'>
      <p></p>
    </section>
    <section id="introduction">
        <h2>Introduction</h2>
        <!-- <p class="issue">Provide introduction that discusses the need for rich text editors to support different levels of richness.</p> -->
        <p>Modern rich text editors on the web seek to build unique edit functionality. A combination of general purpose as well as highly customized markdown editors creates a need in building custom editing experiences.
            This oftentimes, results in the need to disable some or all user agent (UA) provided edit functionality.</p>
         <p>In editable regions of documents, some user agents provide contextual user interface (UI) elements to help 
            accelerate common editing operations.  The UI is meant to enhance the editing experience, but when authors 
            create customized editors that arenâ€™t compatible with user agent UI, it leads to confused users.</p>
        <!-- <p class="issue">Provide an example using a popular markdown editor.</p> -->
        <p>One such example is <a href="https://stackedit.io/">stackedit</a> - online markdown editor. It does not any of the editing UI provide by UA because it makes no sense in the context of markdown experience.
        <p>
            In this undesirable scenario, users end up seeing something like below - an UI that does not do anything:
        </p>
        <p>
            <img src="stackedit.jpg"/>
        </p>
        </p>
        <p>To avoid user confusion and improve overall editing experiences, UAs need to expose ability to control its UI to web developers.</p>
    </section>
    <section id="main">
        <h2>
            <code>contenteditable-disabled</code> attribute.
        </h2>
        <p>This specification defines a new an <a href="https://html.spec.whatwg.org/#enumerated-attribute">enumerated attribute</a> <code>contenteditable-disabled</code>. It allows the disabling of certain editing UI on <a href="https://html.spec.whatwg.org/multipage/interaction.html#attr-contenteditable">contenteditable</a> host by supplying a well-known list of input types.
        </p>
        <h3>
            Supported UI Commands
        </h3>
        <!-- <p class="issue">Make the criteria listed below into some type of note to clearly separate it from any normative text.</p> -->
        <p class="note">
            Only commands that perform some rich formatting of the content that may not be applicable to all editors have been included in the list.
        </p>
        <!-- <p class="issue">Cleanup the list below and put it in a standard format for describing an attribute and its associated values.</p> -->
        <h3>Recommended Commands</h3>
        <p>
            <ul>
                <li>formatjustifycenter</li>
                <li>formatjustifyfull</li>
                <li>formatjustifyleft</li>
                <li>formatjustifyright</li>
                <li>formatbackcolor</li>
                <li>formatbold</li>
                <li>insertlink</li>
                <li>formatfontName</li>
                <li>formatfontSize</li>
                <li>formatfontColor</li>
                <li>formatindent</li>
                <li>inserthorizontalrule</li>
                <li>insertorderedlist</li>
                <li>insertunorderedlist</li>
                <li>formatitalic</li>
                <li>formatoutdent</li>
                <li>formatremove</li>
                <li>formatstrikethrough</li>
                <li>formatsubscript</li>
                <li>formatsuperscript</li>
                <li>formatunderline</li>
            </ul>
        </p>
        <p>Some commands such as font formatting related commands would normally be disabled together. As such, shortcuts can be used to disable classes of commands</p>
        <p>
            <ul>
                <li>formatjustify</li>
                <li>formatfont</li>
                <li>formatdent</li>
                <li>insertlist</li>
                <li>formatscript</li>
            </ul>
        </p>
        <!-- <p class="issue">Indicate in a note that there is no "all" value for contenteditable-disabled since contenteditable="plaintext-only" will accomplish the same.</p> -->
        <p class="note">
            Please note that this specification does not intend to add <code>all</code> attribute value for disabling of all UI commands as this is possible to achieve today with <code>contenteditable="plaintext-only"</code>.
        </p>
    </section>

    <section>
        <h3>Usage Example</h3>

        <div contenteditable="true"
         contenteditable-disabled="fontname 
                            fontsize
                            forecolor
                            indent
                            outdent
                            justify
                            subscript
                            superscript
                            underline">
        </div>

    </section>
    <section>
        <h2>IDL</h2>
        <pre class="idl">
        [Exposed=Window]
        interface ElementContentEditableDisabled {
            attribute DOMString contentEditableDisabled;
        };
        </pre>
        <p>
            The <code>contenteditable-disabled</code> content attribute is an enumerated attribute whose keywords are at least one of the commands from the Supported UI Commands list in section 2.1.
            <p class="issue">Need to discuss possible states for attribute values.</p>
            <p class="issue">Should we allow an empty string to be passed in as a value? What should happen then?</p>
        <p>
    </section>
    <section id='conformance'>
    </section>
    <section>
        <h2>Conforming Implementations</h2>
        <!-- <p class="issue">Revise this text to work better with current scope.  Ensure this language leaves UAs with the freedom to choose how they communicate to the user that the UI is not applicable.</p> -->
        <p>A user agent conforming with this specification MUST make all visible user interface elements that would
        trigger an incompatible editing command non-actionable. Including, but not limited to, context menu entries, virtual 
        keyboard buttons, and floating toolbar UI.</p>
        <p>Triggering an incompatible editing command from a non-visible user interface element MUST NOT be disabled, 
        so long as the command correlates with a cancellable event that the author can use to prevent unwanted
        manipulation of the DOM by the command.  The canonical example of non-visible UI is a keyboard shortcut.</p>
    </section>
    <!-- <p class="issue">Include references to other specs (like the beforeinput types).</p> -->
    <section id="issue-summary">
    </section>
    <section id="references">
        <a href="https://w3c.github.io/input-events/">beforeinput event Level 1</a>
        <br/>
        <a href="https://rawgit.com/w3c/input-events/v1/index.html">beforeinput event Level 2</a>
    </section>
</body>

</html>
